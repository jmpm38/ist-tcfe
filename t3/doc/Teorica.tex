\section{Theoretical Analysis}
\label{Teorica}
In this section, we are going to show how we proceed to to fulfill the goal of this lab.

\par 1) We used a transformer to transform Vs=230V in a smaller value ($V_{s}/n$ with n=10), but with this we still had an AC voltage, and we want a DC voltage.
 \par
 2)Using four diodes we did a full wave rectifier circuit which allows us to transform the sinusoidal signal in a module function of a sinusoidal function, as you can see in the plots below.
 \par
 3)Then, a capacitor was used to make the voltage more close to a DC voltage, as it damps the sinusoidal ripple. To compute this we had to decide when the diodes are ON and OFF. So, we compute toff and ton using the Newton-Raphson's iterative method. To compute toff we use the equation 
 
 \begin{equation}
 (Vs/n)*C*w*sin(w*t_{off}) = (1/R1)*(Vs/n)*cos(w*t_{off}) + I_s*(exp(12/(eta*Vt*k))-1)
 \end{equation} 
 
 
 
 
 which represents $i_{D} = i_{R} + i_{C}$; 
 
 
 and to compute $ton$ we use the equation 
 
 \begin{equation}
 Vs/n)*cos(w*t_{on})=-(Vs/n)*cos(w*t_{off})*exp(-(1/(Req*C))*(t_{on}-t_{off})) 
 \end{equation}
 
 
 Periodically, if $t<t_{off}$ we got 
 
 \begin{equation}
 v0_{env}(i) = abs((230/n)*cos(w*t(i))) 
 \end{equation}
 
 and if $t>t_{off}$ we got  
 
 \begin{equation}
 v0_{env}(i) = (230/n)*abs(cos(w*t_{off}))*exp(-(1/(Req*C))*(t(i)-t_{off}))
 \end{equation}
 
 
 \par
 \begin{table}[!h]
\centering
\begin{tabularx}{0.6\textwidth} {
  | >{\raggedright\arraybackslash}X
  | >{\raggedleft\arraybackslash}X | }
 \hline
\input{Envelope_tab.tex}
\end{tabularx}
\caption{Ripple and Average Voltages of the Envelope}
\end{table}
 \par
 4)Lastly, we use a total of 22 diodes and a resistor to make the voltage in the output of the voltage regulator circuit an almost perfect 12V DC voltage. To do this we did an incremental analyses. So, the $v0_{reg} = v0reg_{ac} + v0reg_{dc}$ . To compute the $v0reg_{ac}$ we use the voltage divider between the resistance and the equivalent resistances of the diodes in the incremental analyses. The average voltage and the ripple obtained are shown in the table below.
 
 \par (tabela com ripple e average do regulator)
\begin{table}[h]
\centering
\begin{tabularx}{0.6\textwidth} {
  | >{\raggedright\arraybackslash}X
  | >{\raggedleft\arraybackslash}X | }
 \hline
\input{Regulator_tab.tex}
\end{tabularx}
\caption{Ripple and Average Voltages of the Regulator}
\end{table}
 \par
 (plots, temos de fazer mais referencias aos plots em cima no texto)
 
 \begin{figure}[!h]\centering
\includegraphics[width=0.7\linewidth]{graph1.eps}
\caption{Regulator, Envelope and Transformer Voltages}
\label{fig:snat}
\end{figure}

\begin{figure}[!h]\centering
\includegraphics[width=0.7\linewidth]{graph2.eps}
\caption{Output AC component + DC deviation}
\label{fig:snat2}
\end{figure}

